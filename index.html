<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Blue Garden Just for You</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&family=Allura&family=Sacramento&display=swap" rel="stylesheet">
    <style>
        /* Emoji styling for consistency - Windows style */
        body, button, div, p, h1, h2 {
            font-family: 'Montserrat', 'Segoe UI Emoji', sans-serif;
        }

        /* Force all emojis to use system emoji font with highest priority */
        .flag, .flying-emoji, .hug-emoji, .hug-heart, .kiss-emoji, 
        .kiss-center, .popup-heart, .floating-heart, .flower, 
        .sleepy-cat, .big-cat, .name-hearts {
            font-family: 'Segoe UI Emoji', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif !important;
        }

        /* Force specific unicode ranges for emojis */
        @supports (font-variation-settings: normal) {
            * {
                font-family: 'Montserrat', 'Segoe UI Emoji', sans-serif;
            }
        }

        body {
            font-family: 'Montserrat', 'Segoe UI Emoji', sans-serif;
            overflow-x: hidden;
            background: #e3f2fd;
        }

        /* Override for text to use Montserrat */
        .landing-text, .lily-text, .cat-bubble, .letter, .final-content {
            font-family: 'Montserrat', 'Segoe UI Emoji', sans-serif;
        }

        /* Cursive with emoji support */
        .name-dedication, .from-name {
            font-family: 'Montserrat', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Cursive names styling */
        .name-dedication {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.5em;
            color: #1565c0;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 2px 10px rgba(100, 181, 246, 0.5),
                         0 4px 20px rgba(100, 181, 246, 0.3);
            letter-spacing: 2px;
            position: relative;
            font-weight: 600;
        }

        .name-dedication span {
            display: inline-block;
            opacity: 0;
            animation: writeText 3s ease-out forwards, gentleSway 3s ease-in-out infinite 3s;
            position: relative;
        }

        /* Floating hearts around name */
        .name-hearts {
            position: absolute;
            font-size: 0.4em;
            pointer-events: none;
        }

        .heart-1 {
            top: -20px;
            left: -30px;
            animation: floatHeart1 4s ease-in-out infinite 3s;
            opacity: 0;
            animation-fill-mode: both;
        }

        .heart-2 {
            top: -25px;
            right: -30px;
            animation: floatHeart2 4s ease-in-out infinite 3.5s;
            opacity: 0;
            animation-fill-mode: both;
        }

        .heart-3 {
            bottom: -25px;
            left: 20%;
            animation: floatHeart3 4s ease-in-out infinite 3.2s;
            opacity: 0;
            animation-fill-mode: both;
        }

        .heart-4 {
            bottom: -25px;
            right: 20%;
            animation: floatHeart4 4s ease-in-out infinite 3.7s;
            opacity: 0;
            animation-fill-mode: both;
        }

        @keyframes floatHeart1 {
            0%, 100% {
                opacity: 0.6;
                transform: translateY(0) scale(1);
            }
            50% {
                opacity: 1;
                transform: translateY(-10px) scale(1.3);
            }
        }

        @keyframes floatHeart2 {
            0%, 100% {
                opacity: 0.6;
                transform: translateY(0) rotate(0deg) scale(1);
            }
            50% {
                opacity: 1;
                transform: translateY(-15px) rotate(15deg) scale(1.2);
            }
        }

        @keyframes floatHeart3 {
            0%, 100% {
                opacity: 0.6;
                transform: translateY(0) scale(1);
            }
            50% {
                opacity: 1;
                transform: translateY(10px) scale(1.25);
            }
        }

        @keyframes floatHeart4 {
            0%, 100% {
                opacity: 0.6;
                transform: translateY(0) rotate(0deg) scale(1);
            }
            50% {
                opacity: 1;
                transform: translateY(8px) rotate(-15deg) scale(1.3);
            }
        }

        @keyframes writeText {
            0% {
                opacity: 0;
                clip-path: inset(0 100% 0 0);
            }
            100% {
                opacity: 1;
                clip-path: inset(0 0 0 0);
            }
        }

        @keyframes gentleSway {
            0%, 100% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(1deg);
            }
            75% {
                transform: rotate(-1deg);
            }
        }

        .name-dedication::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #64b5f6, transparent);
            animation: lineGrow 2s ease-out 3s;
            opacity: 0;
            animation-fill-mode: forwards;
        }

        @keyframes lineGrow {
            0% { 
                width: 0;
                opacity: 0;
            }
            100% { 
                width: 150px;
                opacity: 1;
            }
        }

        .from-name {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8em;
            color: #1565c0;
            display: inline-block;
            text-shadow: 0 2px 8px rgba(100, 181, 246, 0.4);
            position: relative;
            opacity: 0;
            animation: writeSignature 2.5s ease-out forwards, gentleSwaySmall 3s ease-in-out infinite 2.5s;
            font-weight: 600;
        }

        @keyframes writeSignature {
            0% {
                opacity: 0;
                clip-path: inset(0 100% 0 0);
                filter: blur(2px);
            }
            100% {
                opacity: 1;
                clip-path: inset(0 0 0 0);
                filter: blur(0px);
            }
        }

        @keyframes gentleSwaySmall {
            0%, 100% {
                transform: rotate(0deg) translateY(0);
            }
            33% {
                transform: rotate(0.5deg) translateY(-1px);
            }
            66% {
                transform: rotate(-0.5deg) translateY(1px);
            }
        }

        @keyframes fadeInScale {
            0% { 
                opacity: 0; 
                transform: scale(0.8);
            }
            100% { 
                opacity: 1; 
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        /* Particle background */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            animation: particleFloat 15s infinite;
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(100vh) translateX(0) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) translateX(100px) scale(1);
                opacity: 0;
            }
        }

        /* Aurora effect */
        .aurora {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.3;
        }

        .aurora-wave {
            position: absolute;
            width: 200%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(100, 181, 246, 0.3), 
                rgba(144, 202, 249, 0.3), 
                transparent);
            animation: auroraMove 20s ease-in-out infinite;
        }

        @keyframes auroraMove {
            0%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            50% {
                transform: translateX(0%) translateY(-10%);
            }
        }

        .page {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.8s ease, transform 0.8s ease;
            position: absolute;
            width: 100%;
            top: 0;
            left: 0;
            overflow-y: auto;
            overflow-x: hidden;
            transform: scale(0.95);
        }

        .page.active {
            opacity: 1;
            position: relative;
            transform: scale(1);
        }

        /* Page 1 - Landing */
        #page1 {
            background: linear-gradient(180deg, #bbdefb 0%, #e3f2fd 100%);
            position: relative;
            overflow: hidden;
        }

        #page1::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: moveBackground 20s linear infinite;
        }

        /* Morphing blobs */
        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(40px);
            opacity: 0.3;
            animation: blobMove 20s ease-in-out infinite;
        }

        .blob1 {
            width: 300px;
            height: 300px;
            background: linear-gradient(45deg, #64b5f6, #90caf9);
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .blob2 {
            width: 250px;
            height: 250px;
            background: linear-gradient(135deg, #bbdefb, #e3f2fd);
            bottom: 20%;
            right: 15%;
            animation-delay: 5s;
        }

        .blob3 {
            width: 200px;
            height: 200px;
            background: linear-gradient(225deg, #90caf9, #64b5f6);
            top: 50%;
            left: 50%;
            animation-delay: 10s;
        }

        @keyframes blobMove {
            0%, 100% {
                transform: translate(0, 0) scale(1);
            }
            33% {
                transform: translate(50px, -50px) scale(1.2);
            }
            66% {
                transform: translate(-30px, 30px) scale(0.8);
            }
        }

        @keyframes moveBackground {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .flower {
            position: absolute;
            font-size: 30px;
            animation: float 6s ease-in-out infinite;
            opacity: 0.7;
            pointer-events: none;
            z-index: 1;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
        }

        @keyframes float {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg) scale(1);
            }
            25% {
                transform: translateY(-20px) rotate(5deg) scale(1.1);
            }
            50% { 
                transform: translateY(-10px) rotate(-5deg) scale(0.9);
            }
            75% {
                transform: translateY(-30px) rotate(3deg) scale(1.05);
            }
        }

        .sleepy-cat {
            position: absolute;
            bottom: 30px;
            right: 30px;
            font-size: 60px;
            animation: breathe 3s ease-in-out infinite;
            cursor: pointer;
            z-index: 5;
            transition: transform 0.3s ease;
            filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.2));
        }

        .sleepy-cat:hover {
            animation: wiggle 0.5s ease-in-out;
            transform: scale(1.2);
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.08); }
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg) scale(1.2); }
            25% { transform: rotate(-10deg) scale(1.2); }
            75% { transform: rotate(10deg) scale(1.2); }
        }

        .landing-text {
            text-align: center;
            max-width: 600px;
            color: #1565c0;
            position: relative;
            z-index: 10;
        }

        .landing-text h1 {
            font-size: 2.5em;
            margin-bottom: 30px;
            font-weight: 300;
            line-height: 1.4;
            animation: fadeInUp 1.5s ease-out, textGlow 3s ease-in-out infinite;
            text-shadow: 0 0 20px rgba(100, 181, 246, 0.3);
        }

        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes textGlow {
            0%, 100% {
                text-shadow: 0 0 20px rgba(100, 181, 246, 0.3);
            }
            50% {
                text-shadow: 0 0 30px rgba(100, 181, 246, 0.6),
                             0 0 40px rgba(100, 181, 246, 0.4);
            }
        }

        .btn {
            background: linear-gradient(135deg, #64b5f6 0%, #42a5f5 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s ease;
            font-family: 'Montserrat', 'Segoe UI Emoji', sans-serif;
            position: relative;
            z-index: 100;
            box-shadow: 0 5px 15px rgba(66, 165, 245, 0.3);
            animation: pulse 2s ease-in-out infinite;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn:hover {
            background: linear-gradient(135deg, #42a5f5 0%, #2196f3 100%);
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 30px rgba(66, 165, 245, 0.5);
            animation: none;
        }

        .btn:active {
            transform: translateY(-2px) scale(1.02);
            transition: all 0.1s ease;
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 5px 15px rgba(66, 165, 245, 0.3);
            }
            50% {
                box-shadow: 0 5px 25px rgba(66, 165, 245, 0.6);
            }
        }

        /* Page 2 - Lily Path */
        #page2 {
            background: linear-gradient(180deg, #e3f2fd 0%, #bbdefb 100%);
            padding: 40px 20px;
            justify-content: flex-start;
        }

        #page2::-webkit-scrollbar {
            width: 8px;
        }

        #page2::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        #page2::-webkit-scrollbar-thumb {
            background: rgba(100, 181, 246, 0.5);
            border-radius: 10px;
        }

        #page2::-webkit-scrollbar-thumb:hover {
            background: rgba(100, 181, 246, 0.8);
        }

        .lily-path {
            max-width: 600px;
            width: 100%;
            padding: 20px 0;
        }

        .lily-item {
            display: flex;
            align-items: center;
            margin: 40px 0;
            opacity: 0;
            transform: translateX(-50px);
            transition: all 0.6s ease;
        }

        .lily-item.visible {
            opacity: 1;
            transform: translateX(0);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.1); }
        }

        .lily-icon {
            font-size: 50px;
            margin-right: 20px;
            animation: bloom 2s ease-in-out infinite;
        }

        @keyframes bloom {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .lily-text {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            flex: 1;
            transition: all 0.3s ease;
        }

        .lily-text:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(100, 181, 246, 0.3);
        }

        .lily-text p {
            color: #1565c0;
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 10px;
            animation: fadeInText 0.8s ease-out;
        }

        .lily-text .learned {
            color: #5e92f3;
            font-style: italic;
            font-size: 0.95em;
            animation: fadeInText 1s ease-out;
        }

        /* Page 3 - The Cat */
        #page3 {
            background: linear-gradient(180deg, #bbdefb 0%, #90caf9 100%);
        }

        .cat-container {
            text-align: center;
            max-width: 600px;
            position: relative;
            z-index: 10;
            max-height: 90vh;
            overflow-y: auto;
            padding: 20px;
        }

        .cat-container::-webkit-scrollbar {
            width: 8px;
        }

        .cat-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .cat-container::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.5);
            border-radius: 10px;
        }

        .big-cat {
            font-size: 150px;
            cursor: pointer;
            transition: transform 0.3s ease;
            display: inline-block;
            position: relative;
            z-index: 100;
            user-select: none;
            -webkit-user-select: none;
            -webkit-tap-highlight-color: transparent;
            animation: bounce 2s ease-in-out infinite;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
        }

        @keyframes bounce {
            0%, 100% { 
                transform: translateY(0); 
            }
            50% { 
                transform: translateY(-20px); 
            }
        }

        .big-cat:hover {
            transform: scale(1.2) rotate(5deg);
            animation: none;
            filter: drop-shadow(0 15px 30px rgba(100, 181, 246, 0.6));
        }

        .big-cat:active {
            transform: scale(0.95);
            transition: transform 0.1s ease;
        }

        .big-cat.meow {
            animation: meow 0.5s ease;
        }

        @keyframes meow {
            0%, 100% { transform: rotate(0deg) scale(1); }
            10% { transform: rotate(-15deg) scale(1.15); }
            30% { transform: rotate(15deg) scale(1.2); }
            50% { transform: rotate(-10deg) scale(1.15); }
            70% { transform: rotate(10deg) scale(1.1); }
        }

        .cat-bubble {
            background: white;
            padding: 20px;
            border-radius: 20px;
            margin: 30px 0;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            position: relative;
            animation: popIn 0.6s ease-out;
        }

        @keyframes popIn {
            0% {
                opacity: 0;
                transform: scale(0.5);
            }
            70% {
                transform: scale(1.05);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .cat-bubble:before {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-bottom: 10px solid white;
        }

        .cat-bubble p {
            color: #1565c0;
            font-size: 1.2em;
            line-height: 1.6;
            margin: 10px 0;
            animation: fadeInText 1s ease-out;
        }

        .hidden-loves {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .hidden-loves.show {
            max-height: 1000px;
        }

        .love-item {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            color: #1565c0;
            font-size: 1em;
            opacity: 0;
            transform: translateX(-20px);
            animation: slideIn 0.5s ease-out forwards;
            border: 2px solid #90caf9;
        }

        .love-item:nth-child(1) { animation-delay: 0.1s; }
        .love-item:nth-child(2) { animation-delay: 0.2s; }
        .love-item:nth-child(3) { animation-delay: 0.3s; }
        .love-item:nth-child(4) { animation-delay: 0.4s; }
        .love-item:nth-child(5) { animation-delay: 0.5s; }
        .love-item:nth-child(6) { animation-delay: 0.6s; }

        @keyframes slideIn {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .love-item:hover {
            transform: scale(1.05) translateY(-5px);
            background: linear-gradient(135deg, #bbdefb 0%, #90caf9 100%);
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(100, 181, 246, 0.4);
            border-color: #64b5f6;
        }

        /* Page 4 - Letter */
        #page4 {
            background: linear-gradient(180deg, #90caf9 0%, #64b5f6 100%);
            padding: 40px 20px;
            justify-content: flex-start;
        }

        #page4::-webkit-scrollbar {
            width: 8px;
        }

        #page4::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        #page4::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.5);
            border-radius: 10px;
        }

        #page4::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.8);
        }

        .letter {
            background: #f5f5f5;
            max-width: 650px;
            padding: 50px 40px;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            position: relative;
            margin: 20px;
            animation: fadeInScale 1s ease-out;
        }

        @keyframes fadeInScale {
            0% {
                opacity: 0;
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .letter:before,
        .letter:after {
            content: 'ü§ç';
            position: absolute;
            font-size: 30px;
            opacity: 0.3;
            animation: floatHeart 3s ease-in-out infinite;
        }

        .letter:before {
            top: 20px;
            left: 20px;
            animation-delay: 0s;
        }

        .letter:after {
            bottom: 20px;
            right: 20px;
            animation-delay: 1.5s;
        }

        @keyframes floatHeart {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.1); }
        }

        .letter h2 {
            color: #1565c0;
            font-size: 2em;
            margin-bottom: 30px;
            font-weight: 300;
            text-align: center;
            animation: fadeInScale 1s ease-out;
        }

        .letter p {
            color: #424242;
            font-size: 1.1em;
            line-height: 1.8;
            margin-bottom: 20px;
            text-indent: 30px;
            animation: fadeInText 1s ease-out;
        }

        .letter p:nth-child(3) { animation-delay: 0.1s; }
        .letter p:nth-child(4) { animation-delay: 0.2s; }
        .letter p:nth-child(5) { animation-delay: 0.3s; }
        .letter p:nth-child(6) { animation-delay: 0.4s; }
        .letter p:nth-child(7) { animation-delay: 0.5s; }
        .letter p:nth-child(8) { animation-delay: 0.6s; }
        .letter p:nth-child(9) { animation-delay: 0.7s; }

        .letter .signature {
            text-align: right;
            font-style: italic;
            margin-top: 40px;
            color: #1565c0;
        }

        /* Page 5 - Final */
        #page5 {
            background: linear-gradient(180deg, #1565c0 0%, #0d47a1 100%);
            position: relative;
        }

        .stars {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s ease-in-out infinite;
            box-shadow: 0 0 4px white;
        }

        @keyframes twinkle {
            0%, 100% { 
                opacity: 0.3;
                transform: scale(1);
            }
            50% { 
                opacity: 1;
                transform: scale(1.5);
            }
        }

        .final-content {
            text-align: center;
            color: white;
            z-index: 10;
            position: relative;
            max-width: 600px;
        }

        .final-content h2 {
            font-size: 2.5em;
            margin-bottom: 30px;
            font-weight: 300;
            animation: fadeInScale 1s ease-out, textGlow 3s ease-in-out infinite;
        }

        .glow-lily {
            font-size: 80px;
            animation: glow 2s ease-in-out infinite;
            margin: 30px 0;
            filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.8));
        }

        @keyframes glow {
            0%, 100% { 
                text-shadow: 0 0 10px rgba(255, 255, 255, 0.5),
                             0 0 20px rgba(255, 255, 255, 0.3);
                transform: scale(1);
            }
            50% { 
                text-shadow: 0 0 20px rgba(255, 255, 255, 0.8),
                             0 0 40px rgba(255, 255, 255, 0.6),
                             0 0 60px rgba(255, 255, 255, 0.4);
                transform: scale(1.1);
            }
        }

        .sleeping-cat {
            font-size: 60px;
            margin: 20px 0;
            animation: sleep 4s ease-in-out infinite;
            filter: drop-shadow(0 5px 10px rgba(255, 255, 255, 0.3));
        }

        @keyframes sleep {
            0%, 100% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
        }

        .choice-buttons {
            display: flex;
            gap: 20px;
            margin-top: 40px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .choice-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Courier New', serif;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .choice-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.5s, height 0.5s;
        }

        .choice-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .choice-btn:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);
        }

        .choice-btn:active {
            transform: translateY(-2px) scale(1);
        }

        .response-message {
            margin-top: 30px;
            font-size: 1.2em;
            line-height: 1.6;
            opacity: 0;
            transition: all 0.8s ease;
            max-height: 0;
            overflow: hidden;
            transform: translateY(20px);
        }

        .response-message.show {
            opacity: 1;
            max-height: 200px;
            transform: translateY(0);
        }

        .response-message p {
            animation: fadeInText 0.8s ease-out;
        }

        @keyframes fadeInText {
            0% {
                opacity: 0;
                transform: translateY(10px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Music Controls */
        .music-control {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .music-control:hover {
            transform: scale(1.15) rotate(10deg);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .music-control:active {
            transform: scale(0.95);
        }

        /* Floating hearts effect */
        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0) rotate(0deg);
            }
            10% {
                opacity: 1;
                transform: translateY(-10vh) scale(1) rotate(45deg);
            }
            50% {
                opacity: 0.9;
                transform: translateY(-50vh) scale(1.3) rotate(180deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-100vh) scale(0.5) rotate(360deg);
            }
        }

        .floating-heart {
            position: fixed;
            font-size: 30px;
            pointer-events: none;
            z-index: 999;
            animation: floatUp 3s ease-out forwards;
        }

        /* Ripple effect */
        .ripple {
            position: fixed;
            border-radius: 50%;
            background: rgba(100, 181, 246, 0.3);
            pointer-events: none;
            animation: rippleEffect 0.8s ease-out;
            z-index: 9998;
        }

        @keyframes rippleEffect {
            0% {
                width: 0;
                height: 0;
                opacity: 0.6;
            }
            100% {
                width: 400px;
                height: 400px;
                opacity: 0;
            }
        }

        /* Popup Modal */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.75);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            backdrop-filter: blur(8px);
        }

        .popup-overlay.show {
            display: flex;
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                backdrop-filter: blur(0px);
            }
            to {
                opacity: 1;
                backdrop-filter: blur(8px);
            }
        }

        .popup-content {
            background: white;
            padding: 40px;
            border-radius: 30px;
            max-width: 500px;
            width: 80%;
            max-height: 80vh;
            text-align: center;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: popupBounce 0.5s ease-out;
            overflow-y: auto;
        }

        .animation-stage {
            position: relative;
            width: 100%;
            height: 220px;
            margin: 10px 0;
        }

        @keyframes popupBounce {
            0% {
                opacity: 0;
                transform: scale(0.3) translateY(-100px) rotate(-5deg);
            }
            50% {
                opacity: 1;
                transform: scale(1.05) translateY(10px) rotate(2deg);
            }
            70% {
                transform: scale(0.95) translateY(-5px) rotate(-1deg);
            }
            100% {
                transform: scale(1) translateY(0) rotate(0deg);
            }
        }

        .popup-header {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.5em;
            color: #1565c0;
            margin-bottom: 20px;
            font-weight: 600;
            opacity: 1;
            transition: opacity 0.3s ease;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .loading-animation {
            margin: 30px 0;
            position: absolute;
            width: 100%;
            height: 180px;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 1;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }

        .loading-animation.hide {
            opacity: 0;
        }

        /* Phone animation container */
        .phone-animation {
            position: absolute;
            width: 100%;
            height: 180px;
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
            left: 0;
            top: 100px;
        }

        .phone-animation.active {
            opacity: 1;
            pointer-events: auto;
        }

        /* Phone devices */
        .phone {
            width: 60px;
            height: 100px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            border: 3px solid #1565c0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            animation: phoneShake 2s ease-in-out infinite;
        }

        .phone::before {
            content: '';
            position: absolute;
            top: 8px;
            width: 30px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
        }

        .phone::after {
            content: '';
            position: absolute;
            bottom: 8px;
            width: 30px;
            height: 30px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
        }

        @keyframes phoneShake {
            0%, 100% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(-5deg);
            }
            75% {
                transform: rotate(5deg);
            }
        }

        /* Country flags */
        .flag {
            margin-top: 8px;
            font-size: 28px;
            animation: flagWave 2s ease-in-out infinite;
            z-index: 10;
            text-align: center;
        }

        @keyframes flagWave {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }

        /* Flying emoji animation */
        .flying-emoji {
            position: absolute;
            font-size: 40px;
            left: 10%;
            top: 50%;
            animation: flyAcross 4s ease-in-out infinite;
            filter: drop-shadow(0 0 10px rgba(255, 182, 193, 0.8));
        }

        @keyframes flyAcross {
            0% {
                left: 15%;
                top: 50%;
                transform: translateY(-50%) scale(0.5) rotate(0deg);
                opacity: 0;
            }
            15% {
                opacity: 1;
            }
            50% {
                left: 50%;
                top: 20%;
                transform: translateY(-50%) scale(1.8) rotate(360deg);
            }
            85% {
                opacity: 1;
            }
            100% {
                left: 85%;
                top: 50%;
                transform: translateY(-50%) scale(0.5) rotate(720deg);
                opacity: 0;
            }
        }

        /* Signal waves from phones */
        .signal-wave {
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid #64b5f6;
            border-radius: 50%;
            opacity: 0;
        }

        .wave-left {
            left: 10%;
            top: 50%;
            animation: waveExpand 2s ease-out infinite;
        }

        .wave-right {
            right: 10%;
            top: 50%;
            animation: waveExpand 2s ease-out infinite;
            animation-delay: 1s;
        }

        @keyframes waveExpand {
            0% {
                width: 20px;
                height: 20px;
                opacity: 0.8;
            }
            100% {
                width: 100px;
                height: 100px;
                opacity: 0;
            }
        }

        /* Connection line */
        .connection-line {
            position: absolute;
            top: 50%;
            left: 20%;
            right: 20%;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent,
                #64b5f6 20%,
                #42a5f5 50%,
                #64b5f6 80%,
                transparent
            );
            background-size: 200% 100%;
            animation: lineFlow 2s linear infinite;
        }

        @keyframes lineFlow {
            0% {
                background-position: -200% 0;
            }
            100% {
                background-position: 200% 0;
            }
        }

        .hug-container {
            font-size: 140px;
            position: absolute;
            width: 100%;
            height: 180px;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.5s ease;
            pointer-events: none;
            left: 0;
            top: 100px;
            transform: scale(0.8);
        }

        .hug-container.active {
            opacity: 1;
            pointer-events: auto;
            transform: scale(1);
            animation: hugBounce 2s ease-in-out infinite;
        }

        @keyframes hugBounce {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }

        .hug-main {
            font-size: 140px;
            position: relative;
            filter: drop-shadow(0 10px 20px rgba(100, 181, 246, 0.4));
        }

        .love-particle {
            position: absolute;
            font-size: 25px;
            animation: floatAround 3s ease-in-out infinite;
        }

        .love-1 {
            top: -40px;
            left: -50px;
            animation-delay: 0s;
        }

        .love-2 {
            top: -50px;
            right: -50px;
            animation-delay: 0.5s;
        }

        .love-3 {
            bottom: -30px;
            left: -40px;
            animation-delay: 1s;
        }

        .love-4 {
            bottom: -40px;
            right: -40px;
            animation-delay: 1.5s;
        }

        @keyframes floatAround {
            0%, 100% {
                transform: translateY(0) scale(1);
                opacity: 0.7;
            }
            50% {
                transform: translateY(-15px) scale(1.3);
                opacity: 1;
            }
        }

        .kiss-container {
            position: absolute;
            width: 100%;
            height: 180px;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.5s ease;
            pointer-events: none;
            left: 0;
            top: 100px;
            transform: scale(0.8);
        }

        .kiss-container.active {
            opacity: 1;
            pointer-events: auto;
            transform: scale(1);
        }

        .kiss-main {
            font-size: 150px;
            position: relative;
            animation: kissAnimation 2s ease-in-out infinite;
            filter: drop-shadow(0 10px 20px rgba(255, 105, 180, 0.4));
        }

        @keyframes kissAnimation {
            0%, 100% {
                transform: scale(1) rotate(0deg);
            }
            25% {
                transform: scale(1.15) rotate(-10deg);
            }
            75% {
                transform: scale(1.15) rotate(10deg);
            }
        }

        .kiss-sparkle {
            position: absolute;
            font-size: 30px;
            animation: sparkleFloat 2s ease-in-out infinite;
        }

        .sparkle-1 {
            top: -30px;
            left: -40px;
            animation-delay: 0s;
        }

        .sparkle-2 {
            top: -35px;
            right: -40px;
            animation-delay: 0.3s;
        }

        .sparkle-3 {
            bottom: -25px;
            left: -35px;
            animation-delay: 0.6s;
        }

        .sparkle-4 {
            bottom: -30px;
            right: -35px;
            animation-delay: 0.9s;
        }

        .sparkle-5 {
            top: 10px;
            left: -50px;
            animation-delay: 1.2s;
        }

        .sparkle-6 {
            top: 10px;
            right: -50px;
            animation-delay: 1.5s;
        }

        @keyframes sparkleFloat {
            0%, 100% {
                transform: scale(0.8) rotate(0deg);
                opacity: 0.6;
            }
            50% {
                transform: scale(1.4) rotate(180deg);
                opacity: 1;
            }
        }

        .popup-message {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.2em;
            color: #1565c0;
            margin: 40px 0 20px 0;
            line-height: 1.6;
            opacity: 0;
            transition: opacity 0.6s ease, transform 0.6s ease;
            transform: translateY(20px);
        }

        .popup-message.active {
            opacity: 1;
            transform: translateY(0);
        }

        .loading-dots {
            display: inline-flex;
            gap: 8px;
            margin: 20px 0;
        }

        .dot-loading {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #64b5f6;
            animation: dotBounce 1.4s ease-in-out infinite;
        }

        .dot-loading:nth-child(1) { animation-delay: 0s; }
        .dot-loading:nth-child(2) { animation-delay: 0.2s; }
        .dot-loading:nth-child(3) { animation-delay: 0.4s; }

        @keyframes dotBounce {
            0%, 80%, 100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            40% {
                transform: scale(1.2);
                opacity: 1;
            }
        }

        .popup-close-btn {
            margin-top: 20px;
            background: linear-gradient(135deg, #64b5f6 0%, #42a5f5 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1em;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(66, 165, 245, 0.3);
            opacity: 0;
            transform: translateY(10px);
            margin: 10px;
        }

        .popup-close-btn.active {
            opacity: 1;
            transform: translateY(0);
        }

        .popup-close-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(66, 165, 245, 0.5);
        }

        .button-group {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        /* Hearts floating around popup */
        .popup-heart {
            position: absolute;
            font-size: 30px;
            pointer-events: none;
            animation: floatAroundPopup 3s ease-in-out infinite;
        }

        @keyframes floatAroundPopup {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.6;
            }
            50% {
                transform: translateY(-30px) rotate(180deg);
                opacity: 1;
            }
        }

        .popup-heart:nth-child(1) {
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .popup-heart:nth-child(2) {
            top: 15%;
            right: 10%;
            animation-delay: 0.5s;
        }

        .popup-heart:nth-child(3) {
            bottom: 15%;
            left: 15%;
            animation-delay: 1s;
        }

        .popup-heart:nth-child(4) {
            bottom: 10%;
            right: 15%;
            animation-delay: 1.5s;
        }

        /* Particle burst effect */
        .particle-burst {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            pointer-events: none;
            animation: burstOut 1.5s ease-out forwards;
        }

        @keyframes burstOut {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }

        /* Navigation */
        .nav-dots {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .dot.active {
            background: white;
            transform: scale(1.3);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .landing-text h1 {
                font-size: 1.8em;
            }

            .name-dedication {
                font-size: 2em;
            }

            .from-name {
                font-size: 1.4em;
            }

            .btn {
                padding: 12px 30px;
                font-size: 1em;
            }

            .sleepy-cat {
                font-size: 40px;
                bottom: 20px;
                right: 20px;
            }

            .lily-icon {
                font-size: 35px;
                margin-right: 15px;
            }

            .lily-text p {
                font-size: 1em;
            }

            .big-cat {
                font-size: 100px;
            }

            .cat-bubble p {
                font-size: 1em;
            }

            .letter {
                padding: 30px 20px;
            }

            .letter h2 {
                font-size: 1.5em;
            }

            .letter p {
                font-size: 1em;
            }

            .final-content h2 {
                font-size: 1.8em;
            }

            .glow-lily {
                font-size: 60px;
            }

            .choice-buttons {
                flex-direction: column;
                width: 100%;
            }

            .choice-btn {
                width: 100%;
            }

            .music-control {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }

            .nav-dots {
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Music Control -->
    <button class="music-control" id="musicBtn" title="Play gentle music">üéµ</button>

    <!-- Navigation Dots -->
    <div class="nav-dots" id="navDots"></div>

    <!-- Page 1: Landing -->
    <div class="page active" id="page1" style="display: flex;">
        <!-- Aurora background -->
        <div class="aurora">
            <div class="aurora-wave"></div>
        </div>
        
        <!-- Morphing blobs -->
        <div class="blob blob1"></div>
        <div class="blob blob2"></div>
        <div class="blob blob3"></div>
        
        <!-- Particles -->
        <div class="particles" id="particles1"></div>
        
        <div class="flower" style="top: 10%; left: 10%; animation-delay: 0s;">ü§ç</div>
        <div class="flower" style="top: 20%; right: 15%; animation-delay: 1s;">ü§ç</div>
        <div class="flower" style="top: 70%; left: 20%; animation-delay: 2s;">ü§ç</div>
        <div class="flower" style="top: 60%; right: 25%; animation-delay: 1.5s;">ü§ç</div>
        <div class="flower" style="top: 30%; left: 50%; animation-delay: 0.5s;">ü§ç</div>
        
        <div class="landing-text">
            <div class="name-dedication">
                <span>
                    To Marjorie üíô
                    <div class="name-hearts heart-1">üíï</div>
                    <div class="name-hearts heart-2">üíñ</div>
                    <div class="name-hearts heart-3">üíó</div>
                    <div class="name-hearts heart-4">üíù</div>
                </span>
            </div>
            <h1>I made this because saying "I'm sorry" didn't feel like enough‚Ä¶ and because you deserve to know how badly I feel about making you cry.</h1>
            <button class="btn" onclick="goToPage(2)">üíô Come walk with me</button>
        </div>
        
        <div class="sleepy-cat" title="Click me!">üò∫</div>
    </div>

    <!-- Page 2: Lily Path -->
    <div class="page" id="page2" style="display: none;">
        <div class="lily-path">
            <div class="lily-item">
                <div class="lily-icon">ü§ç</div>
                <div class="lily-text">
                    <p>I'm sorry for how I handled the call today. I didn't mean to make you cry.</p>
                    <p class="learned">I realize now how confusing and hurtful my actions must have felt to you.</p>
                </div>
            </div>
            
            <div class="lily-item">
                <div class="lily-icon">ü§ç</div>
                <div class="lily-text">
                    <p>I'm sorry for not communicating clearly and making you overthink.</p>
                    <p class="learned">You were being so thoughtful by turning off your mic, and I should have been clearer about what I wanted.</p>
                </div>
            </div>
            
            <div class="lily-item">
                <div class="lily-icon">ü§ç</div>
                <div class="lily-text">
                    <p>I'm sorry for the way I said things that made you feel like something was wrong.</p>
                    <p class="learned">My tone hurt you when I never meant to. I should have been more aware of how my words would land.</p>
                </div>
            </div>
            
            <div class="lily-item">
                <div class="lily-icon">ü§ç</div>
                <div class="lily-text">
                    <p>I'm sorry for making you feel sad and cranky enough that you felt you had to end the call.</p>
                    <p class="learned">You were trying to take care of me by letting me sleep, but I had already made you cry. That breaks my heart.</p>
                </div>
            </div>
            
            <div class="lily-item">
                <div class="lily-icon">ü§ç</div>
                <div class="lily-text">
                    <p>I'm sorry for not being clear about wanting to stay on the call with you.</p>
                    <p class="learned">I never wanted you to overthink or feel unsure about us. You deserve clarity and reassurance, always.</p>
                </div>
            </div>

            <div style="text-align: center; margin-top: 60px;">
                <button class="btn" onclick="goToPage(3)">Continue üíô</button>
            </div>
        </div>
    </div>

    <!-- Page 3: The Cat -->
    <div class="page" id="page3" style="display: none;">
        <div class="cat-container">
            <div class="big-cat" id="interactiveCat" onclick="catClick()">üò∫</div>
            
            <div class="cat-bubble">
                <p>"He's really sorry. He talks about you more than he admits."</p>
                <p style="font-size: 0.9em; color: #5e92f3; margin-top: 20px;">Click the cat to see what he loves about you... üíô</p>
            </div>

            <div class="hidden-loves" id="hiddenLoves">
                <div class="love-item">üå∏ The way you laugh at the smallest things and make everything feel lighter</div>
                <div class="love-item">üå∏ How you remember little details about people because you genuinely care</div>
                <div class="love-item">üå∏ Your quiet strength when things get difficult</div>
                <div class="love-item">üå∏ The way you make me want to be better just by being yourself</div>
                <div class="love-item">üå∏ How you see beauty in ordinary moments</div>
                <div class="love-item">üå∏ Your kindness, even when you're hurting</div>
            </div>

            <div style="margin-top: 40px;">
                <button class="btn" onclick="goToPage(4)">Read my letter üíå</button>
            </div>
        </div>
    </div>

    <!-- Page 4: Letter -->
    <div class="page" id="page4" style="display: none;">
        <div class="letter">
            <h2>A Letter From My Heart</h2>
            
            <p>I've been replaying today over and over in my head, and each time it hurts more knowing that I made you cry. That's never something I wanted to do to you. I just wanted you to be happy.</p>

            <p>When you turned off your mic so you wouldn't disturb me, you were being so thoughtful and considerate. And instead of appreciating that, I was unclear about what I wanted. I said I'd end the call, then I didn't. I turned off the camera and said I was going to sleep, but the way I said it made you feel like something was wrong.</p>

            <p>I can only imagine how confusing and hurtful that must have been. You started overthinking, got sad, and felt like you had to end the call to let me sleep. You were taking care of me even when I had already hurt you. That's who you are... always caring, always thinking of others. And I took that for granted.</p>

            <p>I didn't mean to make you cry. I didn't mean for my tone to make you feel like something was wrong between us. I was probably just tired and didn't realize how I was coming across, but that's not an excuse. You deserved better communication from me.</p>

            <p>The truth is, I wanted to stay on the call with you. I wanted you there, even if we were both just doing our own thing. I should have said that clearly instead of being confusing and making you feel uncertain.</p>

            <p>I know I hurt you, and I'm truly, deeply sorry. You deserve someone who communicates clearly, who makes you feel secure, and who never leaves you overthinking or crying because of mixed signals. I want to be that person for you.</p>

            <p>Please know that I'm learning. I'm learning to be the best for you, to communicate better, to be more aware of how my words and actions affect you. I'm really sorry for today, and I promise I'm trying to do better.</p>

            <p>I'm not asking you to forgive me right away. I just need you to know that making you cry broke my heart, and I never want to do that again.</p>

            <p class="signature">Forever yours,<br><span class="from-name">From Irfan</span> üíô</p>

            <div style="text-align: center; margin-top: 40px;">
                <button class="btn" onclick="goToPage(5)">üåô</button>
            </div>
        </div>
    </div>

    <!-- Page 5: Final Choice -->
    <div class="page" id="page5" style="display: none;">
        <div class="stars" id="starField"></div>
        
        <div class="final-content">
            <h2>Whatever You Choose</h2>
            <div class="glow-lily">ü§ç</div>
            <div class="sleeping-cat">üò¥</div>
            
            <div class="choice-buttons">
                <button class="choice-btn" onclick="showResponse('time')">ü§ç I need time</button>
                <button class="choice-btn" onclick="showResponse('talk')">üíô Let's talk</button>
            </div>

            <div class="response-message" id="responseMsg"></div>
        </div>
    </div>

    <!-- Popup Modal -->
    <div class="popup-overlay" id="hugKissPopup">
        <div class="popup-content">
            <div class="popup-heart">üíï</div>
            <div class="popup-heart">üíñ</div>
            <div class="popup-heart">üíó</div>
            <div class="popup-heart">üíù</div>
            
            <div class="popup-header">Sending...</div>
            
            <div class="animation-stage">
                <div class="loading-animation">
                    <div class="loading-dots">
                        <div class="dot-loading"></div>
                        <div class="dot-loading"></div>
                        <div class="dot-loading"></div>
                    </div>
                </div>

                <!-- Phone to Phone Animation for Hug -->
                <div class="phone-animation" id="phoneHugAnimation">
                    <div style="position: absolute; left: 10%; top: 50%; transform: translateY(-50%);">
                        <div class="phone phone-left"></div>
                        <div class="flag" style="font-family: 'Segoe UI Emoji', sans-serif !important;">üá≤üáæ</div>
                    </div>
                    <div style="position: absolute; right: 10%; top: 50%; transform: translateY(-50%);">
                        <div class="phone phone-right"></div>
                        <div class="flag" style="font-family: 'Segoe UI Emoji', sans-serif !important;">üáµüá≠</div>
                    </div>
                    <div class="connection-line"></div>
                    <div class="signal-wave wave-left"></div>
                    <div class="signal-wave wave-right"></div>
                    <div class="flying-emoji" style="animation-delay: 0s; font-family: 'Segoe UI Emoji', sans-serif !important;">ü§ó</div>
                    <div class="flying-emoji" style="animation-delay: 2s; font-family: 'Segoe UI Emoji', sans-serif !important;">üíô</div>
                </div>

                <!-- Phone to Phone Animation for Kiss -->
                <div class="phone-animation" id="phoneKissAnimation">
                    <div style="position: absolute; left: 10%; top: 50%; transform: translateY(-50%);">
                        <div class="phone phone-left"></div>
                        <div class="flag" style="font-family: 'Segoe UI Emoji', sans-serif !important;">üá≤üáæ</div>
                    </div>
                    <div style="position: absolute; right: 10%; top: 50%; transform: translateY(-50%);">
                        <div class="phone phone-right"></div>
                        <div class="flag" style="font-family: 'Segoe UI Emoji', sans-serif !important;">üáµüá≠</div>
                    </div>
                    <div class="connection-line"></div>
                    <div class="signal-wave wave-left"></div>
                    <div class="signal-wave wave-right"></div>
                    <div class="flying-emoji" style="animation-delay: 0s; font-family: 'Segoe UI Emoji', sans-serif !important;">üòò</div>
                    <div class="flying-emoji" style="animation-delay: 1.5s; font-family: 'Segoe UI Emoji', sans-serif !important;">üíã</div>
                    <div class="flying-emoji" style="animation-delay: 3s; font-family: 'Segoe UI Emoji', sans-serif !important;">üíñ</div>
                </div>

                <div class="hug-container" id="hugContainer">
                    <div class="hug-main">
                        ü§ó
                        <div class="love-particle love-1">üíï</div>
                        <div class="love-particle love-2">üíñ</div>
                        <div class="love-particle love-3">üíó</div>
                        <div class="love-particle love-4">üíù</div>
                    </div>
                </div>

                <div class="kiss-container" id="kissContainer">
                    <div class="kiss-main">
                        üòò
                        <div class="kiss-sparkle sparkle-1">‚ú®</div>
                        <div class="kiss-sparkle sparkle-2">üí´</div>
                        <div class="kiss-sparkle sparkle-3">‚ú®</div>
                        <div class="kiss-sparkle sparkle-4">üí´</div>
                        <div class="kiss-sparkle sparkle-5">‚≠ê</div>
                        <div class="kiss-sparkle sparkle-6">‚≠ê</div>
                    </div>
                </div>
            </div>

            <div class="popup-message" id="popupMessage"></div>

            <div class="button-group">
                <button class="popup-close-btn" id="closePopup">Close üíô</button>
                <button class="popup-close-btn" id="goHomeBtn">Go Home üè†</button>
            </div>
        </div>
    </div>

    <script>
        // Page Navigation
        const totalPages = 5;
        let currentPage = 1;

        function createNavDots() {
            const navDots = document.getElementById('navDots');
            for (let i = 1; i <= totalPages; i++) {
                const dot = document.createElement('div');
                dot.className = 'dot';
                if (i === 1) dot.classList.add('active');
                dot.onclick = () => goToPage(i);
                navDots.appendChild(dot);
            }
        }

        function goToPage(pageNum) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(p => {
                p.classList.remove('active');
                p.style.display = 'none';
            });
            
            // Show target page
            const targetPage = document.getElementById(`page${pageNum}`);
            targetPage.style.display = 'flex';
            
            // Small delay to ensure display is set before adding active class
            setTimeout(() => {
                targetPage.classList.add('active');
            }, 10);
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Update navigation dots
            document.querySelectorAll('.dot').forEach((dot, index) => {
                dot.classList.toggle('active', index + 1 === pageNum);
            });
            
            currentPage = pageNum;

            // Special animations for page 2
            if (pageNum === 2) {
                setTimeout(() => {
                    const items = document.querySelectorAll('.lily-item');
                    items.forEach((item, index) => {
                        setTimeout(() => {
                            item.classList.add('visible');
                        }, index * 300);
                    });
                }, 200);
            }

            // Generate stars for page 5
            if (pageNum === 5) {
                generateStars();
            }
        }

        // Cat interaction
        let catClicked = false;
        function catClick() {
            const cat = document.getElementById('interactiveCat');
            const loves = document.getElementById('hiddenLoves');
            
            cat.classList.add('meow');
            setTimeout(() => cat.classList.remove('meow'), 500);
            
            // Create sparkle effect
            createSparkles(cat);
            
            if (!catClicked) {
                loves.classList.add('show');
                catClicked = true;
            }
        }

        // Create sparkle effect
        function createSparkles(element) {
            const rect = element.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            for (let i = 0; i < 10; i++) {
                const sparkle = document.createElement('div');
                sparkle.textContent = ['‚ú®', 'üí´', '‚≠ê', 'üåü'][Math.floor(Math.random() * 4)];
                sparkle.style.position = 'fixed';
                sparkle.style.left = centerX + 'px';
                sparkle.style.top = centerY + 'px';
                sparkle.style.fontSize = '20px';
                sparkle.style.pointerEvents = 'none';
                sparkle.style.zIndex = '9999';
                
                const angle = (Math.PI * 2 * i) / 10;
                const velocity = 100;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                
                sparkle.style.animation = 'sparkleOut 0.8s ease-out forwards';
                sparkle.style.setProperty('--vx', vx + 'px');
                sparkle.style.setProperty('--vy', vy + 'px');
                
                document.body.appendChild(sparkle);
                
                setTimeout(() => sparkle.remove(), 800);
            }
        }

        // Add sparkle animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes sparkleOut {
                0% {
                    opacity: 1;
                    transform: translate(0, 0) scale(0);
                }
                50% {
                    opacity: 1;
                    transform: translate(var(--vx), var(--vy)) scale(1);
                }
                100% {
                    opacity: 0;
                    transform: translate(calc(var(--vx) * 1.5), calc(var(--vy) * 1.5)) scale(0);
                }
            }
        `;
        document.head.appendChild(style);

        // Add touch support for mobile
        document.addEventListener('DOMContentLoaded', function() {
            const cat = document.getElementById('interactiveCat');
            if (cat) {
                cat.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    catClick();
                }, {passive: false});
            }
        });

        // Helper function to change text smoothly
        function changeTextSmooth(element, newText, callback) {
            element.style.opacity = '0';
            setTimeout(() => {
                element.textContent = newText;
                element.style.opacity = '1';
                if (callback) setTimeout(callback, 300);
            }, 300);
        }

        // Final page response
        function showResponse(choice) {
            const popup = document.getElementById('hugKissPopup');
            const popupHeader = popup.querySelector('.popup-header');
            const loadingAnimation = popup.querySelector('.loading-animation');
            const phoneHugAnimation = document.getElementById('phoneHugAnimation');
            const phoneKissAnimation = document.getElementById('phoneKissAnimation');
            const hugContainer = document.getElementById('hugContainer');
            const kissContainer = document.getElementById('kissContainer');
            const popupMessage = document.getElementById('popupMessage');
            const closeBtn = document.getElementById('closePopup');
            const msg = document.getElementById('responseMsg');
            const popupContent = popup.querySelector('.popup-content');
            
            // Show popup
            popup.classList.add('show');
            
            // Reset all states
            popupHeader.textContent = 'Sending...';
            popupHeader.style.opacity = '1';
            popupHeader.style.display = 'flex';
            document.querySelector('.animation-stage').style.display = 'block';
            loadingAnimation.style.display = 'block';
            loadingAnimation.style.opacity = '1';
            phoneHugAnimation.classList.remove('active');
            phoneKissAnimation.classList.remove('active');
            hugContainer.classList.remove('active');
            kissContainer.classList.remove('active');
            popupMessage.classList.remove('active');
            closeBtn.classList.remove('active');
            goHomeBtn.classList.remove('active');
            popupMessage.textContent = '';
            
            // Create floating hearts
            createFloatingHearts();
            
            // Timeline with smooth transitions
            setTimeout(() => {
                // Fade out loading
                loadingAnimation.classList.add('hide');
                
                setTimeout(() => {
                    
                    // Change to "Sending Virtual Hug"
                    changeTextSmooth(popupHeader, 'Sending Virtual Hug', () => {
                        phoneHugAnimation.classList.add('active');
                    });
                    
                    // After hug animation
                    setTimeout(() => {
                        phoneHugAnimation.classList.remove('active');
                        
                        setTimeout(() => {
                            changeTextSmooth(popupHeader, 'Hug Sent', () => {
                                hugContainer.classList.add('active');
                                createParticleBurst(popupContent, '#64b5f6');
                            });
                            
                            // After showing hug
                            setTimeout(() => {
                                hugContainer.classList.remove('active');
                                
                                setTimeout(() => {
                                    changeTextSmooth(popupHeader, 'Sending Virtual Kisses', () => {
                                        phoneKissAnimation.classList.add('active');
                                    });
                                    
                                    // After kiss animation
                                    setTimeout(() => {
                                        phoneKissAnimation.classList.remove('active');
                                        
                                        setTimeout(() => {
                                            changeTextSmooth(popupHeader, 'Kisses Sent', () => {
                                                kissContainer.classList.add('active');
                                                createParticleBurst(popupContent, '#ff69b4');
                                            });
                                            
                                            // Clear everything and show final message
                                            setTimeout(() => {
                                                // Fade out everything
                                                popupHeader.style.opacity = '0';
                                                kissContainer.classList.remove('active');
                                                
                                                setTimeout(() => {
                                                    // Hide header and loading completely
                                                    popupHeader.style.display = 'none';
                                                    loadingAnimation.style.display = 'none';
                                                    document.querySelector('.animation-stage').style.display = 'none';
                                                    
                                                    // Show final message
                                                    if (choice === 'time') {
                                                        popupMessage.innerHTML = 'Thank you for being honest. Take all the time you need.<br>I\'m here whenever you\'re ready. üíô';
                                                    } else {
                                                        popupMessage.innerHTML = 'Thank you for giving us a chance to talk.<br>Call me, I\'m waiting. I\'m here, and I\'m listening. üíô';
                                                    }
                                                    popupMessage.classList.add('active');
                                                    closeBtn.classList.add('active');
                                                    document.getElementById('goHomeBtn').classList.add('active');
                                                    
                                                    // Update main response
                                                    if (choice === 'time') {
                                                        msg.innerHTML = '<p>Thank you for being honest. Take all the time you need.</p><p>I\'m here whenever you\'re ready. üíô</p>';
                                                    } else {
                                                        msg.innerHTML = '<p>Thank you for giving us a chance to talk.</p><p>Call me, I\'m waiting. I\'m here, and I\'m listening. üíô</p>';
                                                    }
                                                    msg.classList.add('show');
                                                }, 500);
                                            }, 2500);
                                        }, 500);
                                    }, 4500);
                                }, 500);
                            }, 2500);
                        }, 500);
                    }, 4500);
                }, 500);
            }, 1500);
        }

        // Create particle burst effect
        function createParticleBurst(container, color) {
            const colors = [color, '#90caf9', '#64b5f6', '#42a5f5', '#fff'];
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle-burst';
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                const angle = (Math.PI * 2 * i) / 30;
                const distance = 120 + Math.random() * 80;
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;
                
                particle.style.setProperty('--tx', tx + 'px');
                particle.style.setProperty('--ty', ty + 'px');
                particle.style.left = '50%';
                particle.style.top = '50%';
                
                container.appendChild(particle);
                
                setTimeout(() => particle.remove(), 1500);
            }
        }

        // Close popup
        document.getElementById('closePopup').addEventListener('click', function() {
            document.getElementById('hugKissPopup').classList.remove('show');
        });

        // Go home button
        document.getElementById('goHomeBtn').addEventListener('click', function() {
            document.getElementById('hugKissPopup').classList.remove('show');
            goToPage(1);
        });

        // Close popup when clicking outside
        document.getElementById('hugKissPopup').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('show');
            }
        });

        // Create floating hearts effect
        function createFloatingHearts() {
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'floating-heart';
                    heart.textContent = ['üíô', 'üíï', 'üíó', 'ü§ç'][Math.floor(Math.random() * 4)];
                    heart.style.left = Math.random() * 100 + '%';
                    heart.style.bottom = '0';
                    heart.style.animationDelay = Math.random() * 0.5 + 's';
                    document.body.appendChild(heart);
                    
                    setTimeout(() => heart.remove(), 3000);
                }, i * 150);
            }
        }

        // Stars generation
        function generateStars() {
            const starField = document.getElementById('starField');
            if (starField.children.length > 0) return; // Already generated
            
            for (let i = 0; i < 50; i++) {  // Reduced from 100 to 50
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starField.appendChild(star);
            }
        }

        // Music control (placeholder - requires actual audio file)
        const musicBtn = document.getElementById('musicBtn');
        let musicPlaying = false;

        musicBtn.onclick = function() {
            musicPlaying = !musicPlaying;
            if (musicPlaying) {
                musicBtn.textContent = 'üéµ';
                musicBtn.style.background = 'rgba(100, 181, 246, 0.9)';
                // Here you would play actual music:
                // const audio = new Audio('your-music-file.mp3');
                // audio.play();
            } else {
                musicBtn.textContent = 'üéµ';
                musicBtn.style.background = 'rgba(255, 255, 255, 0.9)';
                // audio.pause();
            }
        };

        // Easter egg - sleepy cat on page 1
        document.querySelector('.sleepy-cat').addEventListener('click', function() {
            this.textContent = this.textContent === 'üò∫' ? 'üòª' : 'üò∫';
        });

        // Initialize
        createNavDots();

        // Generate particles
        function generateParticles() {
            const container = document.getElementById('particles1');
            if (!container) return;
            
            for (let i = 0; i < 15; i++) {  // Reduced from 30 to 15
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                container.appendChild(particle);
            }
        }

        generateParticles();

        // Create ripple effect on click
        document.addEventListener('click', function(e) {
            const ripple = document.createElement('div');
            ripple.className = 'ripple';
            ripple.style.left = (e.clientX - 150) + 'px';
            ripple.style.top = (e.clientY - 150) + 'px';
            document.body.appendChild(ripple);
            
            setTimeout(() => ripple.remove(), 800);
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' && currentPage < totalPages) {
                goToPage(currentPage + 1);
            } else if (e.key === 'ArrowLeft' && currentPage > 1) {
                goToPage(currentPage - 1);
            }
        });
    </script>
</body>
</html>
